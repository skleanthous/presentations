"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function e(e){Array.from(document.getElementsByTagName("svg"),t=>{if(t.hasAttribute("data-marpit-svg")){const{clientHeight:r,clientWidth:a}=t;t.style.transform||(t.style.transform="translateZ(0)");const o=e||t.currentScale||1,i=t.viewBox.baseVal.width/o,s=t.viewBox.baseVal.height/o,n=Math.min(r/s,a/i);Array.from(t.querySelectorAll(":scope > foreignObject"),e=>{const t=e.x.baseVal.value,o=e.y.baseVal.value;Array.from(e.querySelectorAll(":scope > section"),e=>{e.style.transformOrigin||(e.style.transformOrigin="0 0");const l=(a-n*i)/2-t,c=(r-n*s)/2-o;e.style.transform=`translate3d(${l}px,${c}px,0) scale(${n}) translate(${t}px,${o}px)`})})}})}const t=(e,t,r)=>{if(e.getAttribute(t)!==r)return e.setAttribute(t,r),!0};function r(a=!0){for(const t of"Apple Computer, Inc."===navigator.vendor?[e]:[])t();Array.from(document.querySelectorAll('svg[data-marp-fitting="svg"]'),e=>{const r=e.firstChild,a=r.firstChild,{scrollWidth:o,scrollHeight:i}=a;let s,n=1;if(e.hasAttribute("data-marp-fitting-code")&&(s=e.parentElement.parentElement),e.hasAttribute("data-marp-fitting-math")&&(s=e.parentElement),s){const e=getComputedStyle(s),t=Math.ceil(s.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight));t&&(n=t)}const l=Math.max(o,n),c=Math.max(i,1),p=`0 0 ${l} ${c}`;t(r,"width",""+l),t(r,"height",""+c),t(e,"preserveAspectRatio",getComputedStyle(e).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),t(e,"viewBox",p)&&e.classList.toggle("__reflow__")}),a&&window.requestAnimationFrame(()=>r(a))}exports.default=function(){if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");window.marpCoreBrowserScript?console.warn("Marp Core's browser script has already executed."):(Object.defineProperty(window,"marpCoreBrowserScript",{value:!0}),r())},exports.observer=r;
