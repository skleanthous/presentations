const t="marpitSVGPolyfill:setZoomFactor,",e=Symbol(),o=Symbol();function n(t=document){if(t[e])return t[e];let o=!0;const n=()=>{o=!1,delete t[e]};Object.defineProperty(t,e,{configurable:!0,value:n});const i=r();if(i.length>0){const e=()=>{for(const e of i)e({target:t});o&&window.requestAnimationFrame(e)};e()}return n}const r=()=>"Apple Computer, Inc."===navigator.vendor?[a]:[];let i,l;function a(e){const n="object"==typeof e&&e.target||document,r="object"==typeof e?e.zoom:e;window[o]||(Object.defineProperty(window,o,{configurable:!0,value:!0}),window.addEventListener("message",(({data:e,origin:o})=>{if(o===window.origin)try{if(e&&"string"==typeof e&&e.startsWith(t)){const[,t]=e.split(","),o=Number.parseFloat(t);Number.isNaN(o)||(l=o)}}catch(t){console.error(t)}})));let a=!1;Array.from(n.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,o,n,s;t.style.transform||(t.style.transform="translateZ(0)");const c=r||l||t.currentScale||1;i!==c&&(i=c,a=c);const d=t.getBoundingClientRect(),{length:f}=t.children;for(let r=0;r<f;r+=1){const i=t.children[r],l=i.getScreenCTM();if(l){const t=null!==(o=null===(e=i.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==o?o:0,r=null!==(s=null===(n=i.y)||void 0===n?void 0:n.baseVal.value)&&void 0!==s?s:0,a=i.firstElementChild,{style:f}=a;f.transformOrigin||(f.transformOrigin=`${-t}px ${-r}px`),f.transform=`scale(${c}) matrix(${l.a}, ${l.b}, ${l.c}, ${l.d}, ${l.e-d.left}, ${l.f-d.top}) translateZ(0.0001px)`}}})),!1!==a&&Array.from(n.querySelectorAll("iframe"),(({contentWindow:e})=>{null==e||e.postMessage(`${t}${a}`,"null"===window.origin?"*":window.origin)}))}i=1,l=void 0;export default n;export{n as observe,r as polyfills,a as webkit};
